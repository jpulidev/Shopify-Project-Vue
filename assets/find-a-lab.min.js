!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function mapInit(){var e={zoom:10,disableDefaultUI:!0,center:new google.maps.LatLng(42.361145,-71.057083)},g=new google.maps.Map(document.getElementById("orders_map"),e),m=(new google.maps.places.Autocomplete($(".find-lab-address").get(0)),new google.maps.InfoWindow);m.setOptions({pixelOffset:new google.maps.Size(0,5),disableAutoPan:!1}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){e=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);g.setCenter(e)}),document.querySelector("#lab-form").addEventListener("submit",function(e){e.preventDefault();var c=$("#radius-select").val(),e={address:$(".find-lab-address").val(),radius:c};$.ajax({url:"https://dev3.segterra.com/customer/lab/load-markers/",type:"post",dataType:"json",data:e,success:function(e){if(e.data){for(var n,t,o=e.data.you,e=e.data.labs,a=0;a<p.length;a++)p[a].setMap(null);p.length=0;var s=g,r=e,d=m;for(t=0;t<r.length;t++)n=new google.maps.Marker({position:new google.maps.LatLng(r[t].lat,r[t].lng),map:s}),p.push(n),google.maps.event.addListener(n,"click",function(e,n){var t=$("#info-box").tmpl(r[n]).html();return function(){d.setContent(t),d.open(s,e)}}(n,t)),google.maps.event.addListener(d,"domready",function(){var e=$(".gm-style-iw"),n=e.prev();e.parent().addClass("gm-style-iw--style"),n.children(":nth-child(2)").css({"box-shadow":"none","background-color":"transparent"}),n.children(":nth-child(1)").css({"border-top-width":"16px"}),n.children(":nth-child(3)").find(":nth-child(2)").children().css({transform:"skewX(-30.6deg)","box-shadow":"none"}),n.children(":nth-child(3)").find(":nth-child(1)").children().css({transform:"skewX(30.6deg)","box-shadow":"none"})});var e=g,i=c,o=new google.maps.LatLng(o.lat,o.lng),l=10;switch(i){case 10:l=10;break;case 20:case 30:l=9;break;case 50:l=8;break;case 100:l=7;break;case 500:l=4}e.setCenter(o),e.setZoom(l)}}})})}var $,p;$=jQuery,p=[],google.maps.event.addDomListener(window,"load",function(){setTimeout(function(){mapInit()},500)})});